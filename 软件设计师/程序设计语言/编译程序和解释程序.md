- 解释器：

  翻译源程序时**不生成**独立的目标程序

  解释程序和源程序要参与到程序的运行过程中

- 编译器：

  翻译时将源程序**翻译成**独立保存的目标程序

  机器上运行的是与源程序等价的目标程序

  源程序和编译程序都不再参与到目标程序的运行过程

## 编译、解释程序翻译阶段

![image-20230406094639325](https://picgo-picture-storage.oss-cn-guangzhou.aliyuncs.com/img/image-20230406094639325.png)

- **符号表：**

  不断收集、记录和使用源程序中一些相关符号的类型和特征等信息，并将其存入符号表中

  记录源程序中各个字符的必要信息，以辅助语义的正确性检查和代码生成

- 词法分析：

  对源程序逐个字符扫描并识别，分析是否符号程序语言的规定

  词法分析输出的是记号流

  > 有限自动机：
  >
  > 确定的有限自动机（DFA）：对每一个状态，识别字符后**转移的状态是唯一的**
  >
  > 不确定的有限自动机（NFA）：对每一个状态，识别字符后转移的状态是**不唯一的**

- **语法分析：**

  分析的是程序**是否出现语法错误**（没有分号结束符、括号不匹配等）

  语法分析输出的是语法树（分析树）

  > **正规式**
  >
  > `a|b`：选择
  >
  > `a*`：闭包：0个或多个a构成的字符串集合（限定左边最近的第一个）

- **语义分析：**

  检查源程序是否包含**静态语义错误**，进行**类型分析和检查**（例如，整数取余运算符只能对整形数据进行运算，`int a = true;`等）

  > 如何检测动态的语义错误呢？
  >
  > 只有到程序运行时才能检测出来

- 中间代码生成：

  与具体的机器无关，可以跨平台

  **常见的中间代码有：后缀式、三地址码、三元式、四元式和树（图）等形式。**

- 目标代码生成：

  编译器工作的最后一个阶段，与具体的机器密切相关

